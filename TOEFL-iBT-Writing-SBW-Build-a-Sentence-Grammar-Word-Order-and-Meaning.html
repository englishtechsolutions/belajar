<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEFL iBT Writing Skill-Building Worksheet - Build a Sentence – Grammar, Word Order, and Meaning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .word-tile {
            cursor: grab;
            user-select: none;
            transition: all 0.2s ease-in-out;
        }
        .word-tile:active {
            cursor: grabbing;
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .drop-zone {
            border: 2px dashed #cbd5e1;
            min-height: 50px;
            transition: background-color 0.2s ease;
        }
        .drop-zone.drag-over {
            background-color: #e2e8f0;
        }
        .feedback {
            font-weight: 600;
            padding: 8px 12px;
            border-radius: 6px;
            margin-top: 10px;
        }
        .feedback-correct {
            background-color: #dcfce7;
            color: #166534;
        }
        .feedback-incorrect {
            background-color: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-700">TOEFL iBT Writing Skill-Building Worksheet</h1>
            <p class="text-lg text-gray-600 mt-2">Skill Focus: Build a Sentence – Grammar, Word Order, and Meaning</p>
            <p class="text-md text-gray-500">Level: A2 (Pre-Intermediate)</p>
        </header>

        <main class="space-y-8">
            <!-- Step 1: Warm-Up -->
            <section id="step1" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">Step 1. Warm-Up: Basic Word Order</h2>
                <p class="mb-6">Rearrange the words to make correct sentences. Drag the words into the box below. Start with a capital letter and end with a period.</p>
                <div class="space-y-6">
                    <!-- Exercises will be generated here -->
                    <div class="exercise-container"></div>
                </div>
            </section>

            <!-- Step 2: Add Time and Place Information -->
            <section id="step2" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">Step 2. Add Time and Place Information</h2>
                 <p class="mb-6">Put the words in the correct order. Include the time or place expressions correctly.</p>
                <div class="space-y-6">
                     <!-- Exercises will be generated here -->
                     <div class="exercise-container"></div>
                </div>
            </section>

            <!-- Step 3: Using Pronouns and Objects -->
            <section id="step3" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">Step 3. Using Pronouns and Objects</h2>
                <p class="mb-6">Rearrange the words to make correct sentences.</p>
                <div class="space-y-6">
                     <!-- Exercises will be generated here -->
                     <div class="exercise-container"></div>
                </div>
            </section>

             <!-- Step 4: Guided Practice -->
            <section id="step4" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">Step 4. Guided Practice – Build a Sentence</h2>
                <div class="space-y-8">
                    <!-- Exercises will be generated here -->
                    <div class="exercise-container"></div>
                </div>
            </section>

            <!-- Step 5: Independent Practice -->
            <section id="step5" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-blue-600 mb-4">Step 5. Independent Practice – Simulate the Real Test</h2>
                <div class="space-y-8">
                     <!-- Exercises will be generated here -->
                    <div class="exercise-container"></div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Data for all exercises
            const exercisesData = {
                'step1': [
                    { words: ['morning', 'every', 'drink', 'I', 'coffee', '.'], answer: "I drink coffee every morning." },
                    { words: ['lives', 'in', 'Jakarta', 'She', '.'], answer: "She lives in Jakarta." },
                    { words: ['guitar', 'the', 'plays', 'evening', 'every', 'He', '.'], answer: "He plays the guitar every evening." },
                    { words: ['What', 'you', 'do', 'do', 'weekends', 'on', '?'], answer: "What do you do on weekends?" }
                ],
                'step2': [
                    { words: ['study', 'in', 'afternoon', 'the', 'I', 'library', 'the', 'in', '.'], answer: "I study in the library in the afternoon." },
                    { words: ['every', 'go', 'Sunday', 'to', 'park', 'the', 'we', '.'], answer: "We go to the park every Sunday." },
                    { words: ['8:00', 'class', 'starts', 'at', 'The', '.'], answer: "The class starts at 8:00." },
                    { words: ['after', 'I', 'friends', 'school', 'meet', 'my', '.'], answer: "I meet my friends after school." }
                ],
                'step3': [
                    { words: ['saw', 'I', 'yesterday', 'him', '.'], answer: "I saw him yesterday." },
                    { words: ['us', 'gave', 'some', 'books', 'She', '.'], answer: "She gave us some books." },
                    { words: ['He', 'me', 'called', 'night', 'last', '.'], answer: "He called me last night." },
                    { words: ['computer', 'new', 'They', 'bought', 'a', '.'], answer: "They bought a new computer." }
                ],
                'step4': [
                    { 
                        question: "What was the highlight of your trip?",
                        sentence_html: `The <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span> fantastic.`,
                        words: ['tour guides', 'who', 'showed us around', 'the old city', 'were'], 
                        answer: "The tour guides who showed us around the old city were fantastic." 
                    },
                    { 
                        question: "Why didn’t you come to class yesterday?",
                        sentence_html: `I <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span>.`,
                        words: ['stayed', 'home', 'because', 'I', 'was', 'sick'], 
                        answer: "I stayed home because I was sick." 
                    },
                    { 
                        question: "How did you finish the difficult assignment?",
                        sentence_html: `My <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span>.`,
                        words: ['teacher', 'helped', 'me', 'to', 'finish', 'it'], 
                        answer: "My teacher helped me to finish it." 
                    },
                    { 
                        question: "What do you like to do for fun?",
                        sentence_html: `I <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span>.`,
                        words: ['often', 'go', 'out', 'with', 'my', 'friends'], 
                        answer: "I often go out with my friends." 
                    }
                ],
                 'step5': [
                    {
                        question: "What do you usually eat for lunch?",
                        sentence_html: `I <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span>.`,
                        words: ['usually', 'eat', 'rice', 'and', 'vegetables', '.'],
                        answer: "I usually eat rice and vegetables."
                    },
                    {
                        question: "How do you get to school?",
                        sentence_html: `I <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span>.`,
                        words: ['take', 'the', 'bus', 'to', 'school', '.'],
                        answer: "I take the bus to school."
                    },
                    {
                        question: "What did you do last night?",
                        sentence_html: `I <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span>.`,
                        words: ['watched', 'a', 'movie', '.'],
                        answer: "I watched a movie."
                    },
                    {
                        question: "What is your morning routine?",
                        sentence_html: `I <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span>.`,
                        words: ['get', 'up', 'early', 'and', 'eat', 'breakfast', '.'],
                        answer: "I get up early and eat breakfast."
                    },
                    {
                        question: "What is an important quality of a good university?",
                        sentence_html: `A good university <span class="drop-zone inline-flex min-w-[200px] p-1 rounded-md align-middle"></span>.`,
                        words: ['should', 'have', 'experienced', 'professors', '.'],
                        answer: "A good university should have experienced professors."
                    }
                ]
            };
            
            // Function to create and populate exercises
            function setupExercises(stepId, data) {
                const section = document.getElementById(stepId);
                const containerWrapper = section.querySelector('.space-y-6, .space-y-8');
                if (!containerWrapper) return;

                // Clear any placeholder content
                containerWrapper.innerHTML = '';

                data.forEach((exercise, index) => {
                    const isFramed = 'sentence_html' in exercise;
                    const container = document.createElement('div');
                    container.className = 'exercise-container space-y-4';
                    
                    if (isFramed) {
                        // For steps 4 and 5 with sentence frames
                         container.innerHTML = `
                            <div>
                                <p class="font-medium"><strong>Question ${index + 1}:</strong> ${exercise.question}</p>
                                <p class="mb-2 sentence-frame">${exercise.sentence_html}</p>
                            </div>
                            <div class="word-bank flex flex-wrap gap-2 p-3 bg-gray-50 rounded-md"></div>
                            <div class="flex gap-2 mt-2">
                                <button class="check-btn bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Check Answer</button>
                                <button class="reset-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition">Reset</button>
                            </div>
                            <div class="feedback-container"></div>
                        `;
                    } else {
                        // For steps 1, 2, 3
                        container.innerHTML = `
                            <div class="word-bank flex flex-wrap gap-2 p-3 bg-gray-50 rounded-md"></div>
                            <div class="drop-zone p-3 rounded-md flex flex-wrap gap-2 items-center"></div>
                            <div class="flex gap-2 mt-2">
                                <button class="check-btn bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Check Answer</button>
                                <button class="reset-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition">Reset</button>
                            </div>
                            <div class="feedback-container"></div>
                        `;
                    }
                    
                    container.dataset.correctAnswer = exercise.answer;
                    const wordBank = container.querySelector('.word-bank');

                    // Shuffle words for a better exercise
                    const words = [...exercise.words].sort(() => Math.random() - 0.5);

                    words.forEach(word => {
                        const wordEl = document.createElement('div');
                        wordEl.textContent = word;
                        wordEl.draggable = true;
                        wordEl.classList.add('word-tile', 'bg-blue-100', 'text-blue-800', 'px-3', 'py-1', 'rounded-md', 'shadow-sm');
                        wordEl.id = `word-${stepId}-${index}-${word.replace(/[\s.?']/g, '')}`;
                        wordBank.appendChild(wordEl);
                    });
                    
                    containerWrapper.appendChild(container);
                });
            }


            // Initialize all steps
            for (const stepId in exercisesData) {
                setupExercises(stepId, exercisesData[stepId]);
            }


            let draggedItem = null;

            document.addEventListener('dragstart', (e) => {
                if (e.target.classList.contains('word-tile')) {
                    draggedItem = e.target;
                    setTimeout(() => {
                        e.target.style.display = 'none';
                    }, 0);
                }
            });

            document.addEventListener('dragend', (e) => {
                if (draggedItem) {
                    setTimeout(() => {
                        draggedItem.style.display = 'inline-block';
                        draggedItem = null;
                    }, 0);
                }
            });

            document.addEventListener('dragover', (e) => {
                const dropZone = e.target.closest('.drop-zone, .word-bank');
                if (dropZone) {
                    e.preventDefault();
                    dropZone.classList.add('drag-over');
                }
            });

            document.addEventListener('dragleave', (e) => {
                const dropZone = e.target.closest('.drop-zone, .word-bank');
                if (dropZone) {
                    dropZone.classList.remove('drag-over');
                }
            });
            
            document.addEventListener('drop', (e) => {
                e.preventDefault();
                 const dropZone = e.target.closest('.drop-zone, .word-bank');
                 if (dropZone && draggedItem) {
                    dropZone.classList.remove('drag-over');
                    dropZone.appendChild(draggedItem);
                 }
            });
            
            // Check Answer Logic
            document.addEventListener('click', (e) => {
                 if (!e.target.classList.contains('check-btn')) return;

                const container = e.target.closest('.exercise-container');
                const dropZone = container.querySelector('.drop-zone');
                const feedbackContainer = container.querySelector('.feedback-container');
                const correctAnswer = container.dataset.correctAnswer;
                const wordsInZone = Array.from(dropZone.children).map(child => child.textContent);
                
                let userAnswer = wordsInZone.join(' ').trim();
                
                // Handle sentence frames for steps 4 and 5
                const sentenceFrame = container.querySelector('.sentence-frame');
                if (sentenceFrame) {
                     const frameDropZone = sentenceFrame.querySelector('.drop-zone');
                     const beforeText = frameDropZone.previousSibling ? frameDropZone.previousSibling.textContent : '';
                     const afterText = frameDropZone.nextSibling ? frameDropZone.nextSibling.textContent : '';
                     userAnswer = `${beforeText.trim()} ${userAnswer} ${afterText.trim()}`.trim();
                }

                // Normalize answers for comparison
                const normalize = (str) => str.replace(/[.,?]/g, '').trim().toLowerCase();

                let feedbackHTML = '';
                if (normalize(userAnswer) === normalize(correctAnswer)) {
                    feedbackHTML = `<div class="feedback feedback-correct">✅ Correct! Well done.</div>`;
                } else {
                    feedbackHTML = `
                        <div class="feedback feedback-incorrect">
                            ❌ Not quite. Keep trying!
                            <p class="text-sm mt-1"><strong>Your Answer:</strong> ${userAnswer}</p>
                            <p class="text-sm mt-1"><strong>Correct Answer:</strong> ${correctAnswer}</p>
                        </div>`;
                }
                feedbackContainer.innerHTML = feedbackHTML;
            });

            // Reset Logic
            document.addEventListener('click', (e) => {
                if (!e.target.classList.contains('reset-btn')) return;

                const container = e.target.closest('.exercise-container');
                const wordBank = container.querySelector('.word-bank');
                const dropZone = container.querySelector('.drop-zone');
                const feedbackContainer = container.querySelector('.feedback-container');

                const allWords = Array.from(dropZone.children);
                allWords.forEach(word => wordBank.appendChild(word));
                feedbackContainer.innerHTML = '';
            });
        });
    </script>
    
<footer style="text-align: center; padding: 20px; font-size: 14px; color: #555;">
  Designed by <a href="https://fajarudinakbar.online" target="_blank" style="color: #1d4ed8; text-decoration: none;">fajarudinakbar.online</a>
</footer>

</body>
</html>

